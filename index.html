<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ice Core CO₂ Story</title>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/intersection-observer"></script>
  <script src="https://unpkg.com/scrollama"></script>
</head>
<body>
  <main>
    <section id="intro-slides">
      <button id="left-arrow" class="arrow-btn" style="display:none;">&#8592;</button>
      <button id="right-arrow" class="arrow-btn">&#8594;</button>
      <div id="intro-grid"></div>
      <div id="floating-co2-dot"></div>
      <div class="slide active" data-step="0">
        <h1>CO₂ Bubbles in Ice Cores</h1>
        <h3>By Keanu, Trinity, Hasaam, and Maya</h3>
      </div>
      <div class="slide" data-step="1">
        <h2>Earth’s Atmosphere</h2>
        <p id="dot-count-text">This screen shows ____ gray dots…</p>
      </div>
      <div class="slide" data-step="2">
        <h2>Air Trapped in Glacial Ice</h2>
        <p>A tiny fraction of atmospheric air is sealed inside glacial ice.</p>
      </div>

      <div class="slide" data-step="3">
        <h2>The CO₂ Bubbles In Ice</h2>
        <p>Only a tiny fraction of air trapped in ice is CO₂. <br>This single dot represents the CO₂ in ice cores scientists analyze.</p>
      </div>
      <div class="slide" data-step="4">
        <h2>Ice Core Data Is Powerful</h2>
        <p>This single red dot can reveal Earth’s climate history. It can also predict future climate</p>
      </div>
      <div id="scroll-hint">
        <span class="scroll-hint-text">Scroll to explore</span>
        <span class="scroll-hint-arrow">↓</span>
      </div>
  </section>
    </section>
    <section id="post-intro">
      <h1>CO₂ Levels Over a Hundred Thousand Years</h1>
      <p>
        Now that we've seen how little air and specifically CO₂ becomes trapped in glacial ice,
        let’s explore what scientists can learn from the data.
      </p>
    </section>
    <section id="scrolly">
      <div id="scrolly-text">
        <div class="step" data-step="0">
          <p>Full view.</p>
          <p>
            This chart shows how atmospheric CO₂ levels change over time 
            by comparing two different ice cores. Each line represents a 
            separate core, with gas age on the horizontal axis and CO₂ 
            concentration on the vertical axis.
            <br>
            <br>
            <a href="https://courses.washington.edu/pcc588/readings/Sigman_Boyle-Glacial_CO2_Review-Na00.pdf" target="_blank">
            Review of Glacial and Interglacial CO₂ Cycles</a>
          </p>
        </div>
        <div class="step" data-step="1">
          <p>The "Inhale".</p>
          <p>
            During this part of Earth's climate cycle, atmospheric CO₂ sinks to some of its lowest levels. Over 
            thousands of years, CO₂ levels fall as the planet cools and carbon is drawn into the deep ocean. Ice core records 
            illustrate how this "inhalation" is slow and persistent, acting as a long breath inward that sets up the dramatic rise 
            in CO₂ that follows. During this phase of the glacial cycle, atmospheric CO₂ reaches it's lowest levels.
          </p>            
        </div>
        <div class="step" data-step="2">
          <p>The "Exhale".</p>
          <p>
            After thousands of years of declining CO₂ levels, Earth begins to warm up as carbon is released back 
            into the atmosphere. Similarly, this rise is steady as it is driven by the ocean circulation changes as well as the
            retreating ice sheets. Ice core data reflects that CO₂ climbs sharply during this phase, representing a long breath
            outward that pushes the planet out of its glacial state. 

          </p>
        </div>
        <div class="step" data-step="3">
          <p>Return to full view.</p>
          <p>
            Over the last 120,000 years, these inhale–exhale swings have repeated with remarkable consistency. Each cycle ends in 
            a warm peak like the one we are in right now — and every time the planet reaches one of these peaks, the next phase is always the same
            If Earth continued its natural rhythm, we would expect the next “inhale” to begin soon.
            But does it?
          </p>
        </div>
        </div>
      <div id="scrolly-graphic">
        <div id="chart"></div>
      </div>
      <!-- This wrapper is the background gradient-->
      <div class="wrapper">
        <!--The bubbles in the background-->
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
        <div><span class="bub"></span></div>
      </div>
    </section>

    <section id="post-chart">
      <h1>A Vertical Look Inside the Ice Core</h1>
      <p>
        Now that we’ve seen how CO₂ changes over time at a large scale, let’s examine how CO₂ is preserved vertically inside a 
        single ice core.
      </p>
    </section>

    <section id="depth-explorer">
      <div id="depth-explorer-container">
    
        <div id="depth-explorer-header">
          <h2>Interactive Depth Explorer</h2>
          <p>
            Move the slider to travel deeper into the ice core.  
            Switch between cores to compare CO₂ patterns.
            You can also click and drag on the chart to select a region and view its average CO₂, depth, and age.
          </p>
        </div>
    
        <div id="depth-explorer-controls">
          <button id="depth-play-btn">Play</button>
          <label for="depth-slider">Depth:</label>
          <input type="range" id="depth-slider" min="0" max="100" value="0" step="0.1">
    
          <label for="core-select">Core:</label>
          <select id="core-select">
            <option value="3" selected>Core 3</option>
            <option value="4">Core 4</option>
          </select>
        </div>
    
        <div id="depth-chart-wrapper">
          <svg id="depth-svg"></svg>
        </div>

        <div id="depth-tooltip"></div>
    
        <div id="depth-readout">
          <p><strong>Depth:</strong> <span id="read-depth">—</span> m</p>
          <p><strong>CO₂:</strong> <span id="read-co2">—</span> ppm</p>
          <p><strong>Gas Age:</strong> <span id="read-age">—</span> years</p>
        </div>

        <div id="selection-stats"></div>
        <button id="clear-selection">Clear Selection</button>
    
      </div>
    </section>

    <section id="write-up">
      <h1>Write-up (Nov. 25)</h1>
      <p>
        What have we done so far?
      </p>

      <p>
        So far in this final project, our group has created slides and outlined where our data visualizations
        will go. Along with this, we added some css styling and animations. In our slides we introduced what CO2
        ice cores are and an interactive chart showcasing atmospheric CO₂ levels and gas age. With scrolly-telling, 
        we are able to zoom in and out of the chart to show specific sections, letting viewers see both the 
        large-scale patterns and the detailed fluctuations.
      </p>

      <p>
        What will be the most challenging part to design?
      </p>

      <p>
        The most challenging part of this project design would be making multiple interactive graphs 
        without the feeling of endless scrolling for viewers. Making sure that each visual feels meaningful 
        and that transitions between them feel smooth instead of overwhelming. In addition to this, making 
        sure the interactive graphs are functional and not lagging down the website or breaking. 
        Another challenge would be balancing aesthetics and readability, making sure that the animations 
        support our story rather than distract from it. Another challenging aspect would be
        making the charts understandable to viewers without any background in ice core research.
      </p>
    </section>
  </main>
  <script src="intro.js"></script>
  <script src="script.js"></script>
  <script src="depth.js"></script>
</body>
</html>

